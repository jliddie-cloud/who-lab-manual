<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 14 Data Publication | WHO Lab Manual</title>
  <meta name="description" content="Lab practices and data science best practices" />
  <meta name="generator" content="bookdown 0.43 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 14 Data Publication | WHO Lab Manual" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Lab practices and data science best practices" />
  <meta name="github-repo" content="water-health-opportunity-lab/who-lab-manual" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 14 Data Publication | WHO Lab Manual" />
  
  <meta name="twitter:description" content="Lab practices and data science best practices" />
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="code-publication.html"/>
<link rel="next" href="slurm.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">WHO Lab Manual</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome to the WHO Lab!</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#about-the-lab"><i class="fa fa-check"></i><b>1.1</b> About the lab</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#about-this-lab-manual"><i class="fa fa-check"></i><b>1.2</b> About this lab manual</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="culture-and-conduct.html"><a href="culture-and-conduct.html"><i class="fa fa-check"></i><b>2</b> Culture and conduct</a>
<ul>
<li class="chapter" data-level="2.1" data-path="culture-and-conduct.html"><a href="culture-and-conduct.html#lab-culture"><i class="fa fa-check"></i><b>2.1</b> Lab culture</a></li>
<li class="chapter" data-level="2.2" data-path="culture-and-conduct.html"><a href="culture-and-conduct.html#diversity-equity-and-inclusion"><i class="fa fa-check"></i><b>2.2</b> Diversity, equity, and inclusion</a></li>
<li class="chapter" data-level="2.3" data-path="culture-and-conduct.html"><a href="culture-and-conduct.html#protecting-human-subjects"><i class="fa fa-check"></i><b>2.3</b> Protecting human subjects</a></li>
<li class="chapter" data-level="2.4" data-path="culture-and-conduct.html"><a href="culture-and-conduct.html#authorship"><i class="fa fa-check"></i><b>2.4</b> Authorship</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="communication-and-coordination.html"><a href="communication-and-coordination.html"><i class="fa fa-check"></i><b>3</b> Communication and coordination</a>
<ul>
<li class="chapter" data-level="3.1" data-path="communication-and-coordination.html"><a href="communication-and-coordination.html#slack"><i class="fa fa-check"></i><b>3.1</b> Slack</a></li>
<li class="chapter" data-level="3.2" data-path="communication-and-coordination.html"><a href="communication-and-coordination.html#email"><i class="fa fa-check"></i><b>3.2</b> Email</a></li>
<li class="chapter" data-level="3.3" data-path="communication-and-coordination.html"><a href="communication-and-coordination.html#trello"><i class="fa fa-check"></i><b>3.3</b> Trello</a></li>
<li class="chapter" data-level="3.4" data-path="communication-and-coordination.html"><a href="communication-and-coordination.html#google-drives"><i class="fa fa-check"></i><b>3.4</b> Google Drives</a></li>
<li class="chapter" data-level="3.5" data-path="communication-and-coordination.html"><a href="communication-and-coordination.html#meetings"><i class="fa fa-check"></i><b>3.5</b> Meetings</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="reproducibility.html"><a href="reproducibility.html"><i class="fa fa-check"></i><b>4</b> Reproducibility</a>
<ul>
<li class="chapter" data-level="4.1" data-path="reproducibility.html"><a href="reproducibility.html#what-is-the-reproducibility-crisis"><i class="fa fa-check"></i><b>4.1</b> What is the reproducibility crisis?</a></li>
<li class="chapter" data-level="4.2" data-path="reproducibility.html"><a href="reproducibility.html#study-design"><i class="fa fa-check"></i><b>4.2</b> Study design</a></li>
<li class="chapter" data-level="4.3" data-path="reproducibility.html"><a href="reproducibility.html#register-study-protocols"><i class="fa fa-check"></i><b>4.3</b> Register study protocols</a></li>
<li class="chapter" data-level="4.4" data-path="reproducibility.html"><a href="reproducibility.html#write-and-register-pre-analysis-plans"><i class="fa fa-check"></i><b>4.4</b> Write and register pre-analysis plans</a></li>
<li class="chapter" data-level="4.5" data-path="reproducibility.html"><a href="reproducibility.html#create-reproducible-workflows"><i class="fa fa-check"></i><b>4.5</b> Create reproducible workflows</a></li>
<li class="chapter" data-level="4.6" data-path="reproducibility.html"><a href="reproducibility.html#process-and-analyze-data-with-internal-replication-and-masking"><i class="fa fa-check"></i><b>4.6</b> Process and analyze data with internal replication and masking</a></li>
<li class="chapter" data-level="4.7" data-path="reproducibility.html"><a href="reproducibility.html#use-reporting-checklists-with-manuscripts"><i class="fa fa-check"></i><b>4.7</b> Use reporting checklists with manuscripts</a></li>
<li class="chapter" data-level="4.8" data-path="reproducibility.html"><a href="reproducibility.html#publish-preprints"><i class="fa fa-check"></i><b>4.8</b> Publish preprints</a></li>
<li class="chapter" data-level="4.9" data-path="reproducibility.html"><a href="reproducibility.html#publish-data-when-possible-and-replication-scripts"><i class="fa fa-check"></i><b>4.9</b> Publish data (when possible) and replication scripts</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="code-repositories.html"><a href="code-repositories.html"><i class="fa fa-check"></i><b>5</b> Code repositories</a>
<ul>
<li class="chapter" data-level="5.1" data-path="code-repositories.html"><a href="code-repositories.html#project-structure"><i class="fa fa-check"></i><b>5.1</b> Project Structure</a></li>
<li class="chapter" data-level="5.2" data-path="code-repositories.html"><a href="code-repositories.html#rproj-files"><i class="fa fa-check"></i><b>5.2</b> <code>.Rproj</code> files</a></li>
<li class="chapter" data-level="5.3" data-path="code-repositories.html"><a href="code-repositories.html#configuration-config-file"><i class="fa fa-check"></i><b>5.3</b> Configuration (‘config’) File</a></li>
<li class="chapter" data-level="5.4" data-path="code-repositories.html"><a href="code-repositories.html#order-files-and-directories"><i class="fa fa-check"></i><b>5.4</b> Order Files and Directories</a></li>
<li class="chapter" data-level="5.5" data-path="code-repositories.html"><a href="code-repositories.html#using-bash-scripts-to-ensure-reproducibility"><i class="fa fa-check"></i><b>5.5</b> Using Bash scripts to ensure reproducibility</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="coding-practices.html"><a href="coding-practices.html"><i class="fa fa-check"></i><b>6</b> Coding practices</a>
<ul>
<li class="chapter" data-level="6.1" data-path="coding-practices.html"><a href="coding-practices.html#organizing-scripts"><i class="fa fa-check"></i><b>6.1</b> Organizing scripts</a></li>
<li class="chapter" data-level="6.2" data-path="coding-practices.html"><a href="coding-practices.html#documenting-your-code"><i class="fa fa-check"></i><b>6.2</b> Documenting your code</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="coding-practices.html"><a href="coding-practices.html#file-headers"><i class="fa fa-check"></i><b>6.2.1</b> File headers</a></li>
<li class="chapter" data-level="6.2.2" data-path="coding-practices.html"><a href="coding-practices.html#sections-and-subsections"><i class="fa fa-check"></i><b>6.2.2</b> Sections and subsections</a></li>
<li class="chapter" data-level="6.2.3" data-path="coding-practices.html"><a href="coding-practices.html#code-folding"><i class="fa fa-check"></i><b>6.2.3</b> Code folding</a></li>
<li class="chapter" data-level="6.2.4" data-path="coding-practices.html"><a href="coding-practices.html#comments-in-the-body-of-your-script"><i class="fa fa-check"></i><b>6.2.4</b> Comments in the body of your script</a></li>
<li class="chapter" data-level="6.2.5" data-path="coding-practices.html"><a href="coding-practices.html#function-documentation"><i class="fa fa-check"></i><b>6.2.5</b> Function documentation</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="coding-practices.html"><a href="coding-practices.html#object-naming"><i class="fa fa-check"></i><b>6.3</b> Object naming</a></li>
<li class="chapter" data-level="6.4" data-path="coding-practices.html"><a href="coding-practices.html#function-calls"><i class="fa fa-check"></i><b>6.4</b> Function calls</a></li>
<li class="chapter" data-level="6.5" data-path="coding-practices.html"><a href="coding-practices.html#the-here-package"><i class="fa fa-check"></i><b>6.5</b> The here package</a></li>
<li class="chapter" data-level="6.6" data-path="coding-practices.html"><a href="coding-practices.html#readingsaving-data"><i class="fa fa-check"></i><b>6.6</b> Reading/Saving Data</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="coding-practices.html"><a href="coding-practices.html#rds-vs-.rdata-files"><i class="fa fa-check"></i><b>6.6.1</b> <code>.RDS</code> vs <code>.RData</code> Files</a></li>
<li class="chapter" data-level="6.6.2" data-path="coding-practices.html"><a href="coding-practices.html#csvs"><i class="fa fa-check"></i><b>6.6.2</b> CSVs</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="coding-practices.html"><a href="coding-practices.html#integrating-box-and-dropbox"><i class="fa fa-check"></i><b>6.7</b> Integrating Box and Dropbox</a>
<ul>
<li class="chapter" data-level="6.7.1" data-path="coding-practices.html"><a href="coding-practices.html#box"><i class="fa fa-check"></i><b>6.7.1</b> Box</a></li>
<li class="chapter" data-level="6.7.2" data-path="coding-practices.html"><a href="coding-practices.html#dropbox"><i class="fa fa-check"></i><b>6.7.2</b> Dropbox</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="coding-practices.html"><a href="coding-practices.html#tidyverse"><i class="fa fa-check"></i><b>6.8</b> Tidyverse</a></li>
<li class="chapter" data-level="6.9" data-path="coding-practices.html"><a href="coding-practices.html#coding-with-r-and-python"><i class="fa fa-check"></i><b>6.9</b> Coding with R and Python</a></li>
<li class="chapter" data-level="6.10" data-path="coding-practices.html"><a href="coding-practices.html#repeating-analyses-with-different-variations"><i class="fa fa-check"></i><b>6.10</b> Repeating analyses with different variations</a>
<ul>
<li class="chapter" data-level="6.10.1" data-path="coding-practices.html"><a href="coding-practices.html#lapply-and-sapply"><i class="fa fa-check"></i><b>6.10.1</b> <code>lapply()</code> and <code>sapply()</code></a></li>
<li class="chapter" data-level="6.10.2" data-path="coding-practices.html"><a href="coding-practices.html#mapply-and-pmap"><i class="fa fa-check"></i><b>6.10.2</b> <code>mapply()</code> and <code>pmap()</code></a></li>
<li class="chapter" data-level="6.10.3" data-path="coding-practices.html"><a href="coding-practices.html#parallel-processing-with-parallel-and-future-packages"><i class="fa fa-check"></i><b>6.10.3</b> Parallel processing with <code>parallel</code> and <code>future</code> packages</a></li>
</ul></li>
<li class="chapter" data-level="6.11" data-path="coding-practices.html"><a href="coding-practices.html#reviewing-code"><i class="fa fa-check"></i><b>6.11</b> Reviewing Code</a>
<ul>
<li class="chapter" data-level="6.11.1" data-path="coding-practices.html"><a href="coding-practices.html#creating-a-pull-request-template"><i class="fa fa-check"></i><b>6.11.1</b> Creating a Pull Request Template</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="coding-style.html"><a href="coding-style.html"><i class="fa fa-check"></i><b>7</b> Coding style</a>
<ul>
<li class="chapter" data-level="7.1" data-path="coding-style.html"><a href="coding-style.html#comments"><i class="fa fa-check"></i><b>7.1</b> Comments</a></li>
<li class="chapter" data-level="7.2" data-path="coding-style.html"><a href="coding-style.html#line-breaks"><i class="fa fa-check"></i><b>7.2</b> Line breaks</a></li>
<li class="chapter" data-level="7.3" data-path="coding-style.html"><a href="coding-style.html#automated-tools-for-style-and-project-workflow"><i class="fa fa-check"></i><b>7.3</b> Automated Tools for Style and Project Workflow</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="coding-style.html"><a href="coding-style.html#styling"><i class="fa fa-check"></i><b>7.3.1</b> Styling</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="working-with-big-data.html"><a href="working-with-big-data.html"><i class="fa fa-check"></i><b>8</b> Working with Big Data</a>
<ul>
<li class="chapter" data-level="8.1" data-path="working-with-big-data.html"><a href="working-with-big-data.html#the-data.table-package"><i class="fa fa-check"></i><b>8.1</b> The data.table package</a></li>
<li class="chapter" data-level="8.2" data-path="working-with-big-data.html"><a href="working-with-big-data.html#using-downsampled-data"><i class="fa fa-check"></i><b>8.2</b> Using downsampled data</a></li>
<li class="chapter" data-level="8.3" data-path="working-with-big-data.html"><a href="working-with-big-data.html#optimal-rstudio-set-up"><i class="fa fa-check"></i><b>8.3</b> Optimal RStudio set up</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="data-masking.html"><a href="data-masking.html"><i class="fa fa-check"></i><b>9</b> Data masking</a>
<ul>
<li class="chapter" data-level="9.1" data-path="data-masking.html"><a href="data-masking.html#general-overview"><i class="fa fa-check"></i><b>9.1</b> General Overview</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="data-masking.html"><a href="data-masking.html#what-is-data-masking"><i class="fa fa-check"></i><b>9.1.1</b> What is Data Masking?</a></li>
<li class="chapter" data-level="9.1.2" data-path="data-masking.html"><a href="data-masking.html#using-tidy-evaluation-for-data-masking"><i class="fa fa-check"></i><b>9.1.2</b> Using tidy evaluation for data masking</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="data-masking.html"><a href="data-masking.html#technical-overview"><i class="fa fa-check"></i><b>9.2</b> Technical Overview</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="data-masking.html"><a href="data-masking.html#example"><i class="fa fa-check"></i><b>9.2.1</b> Example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="github.html"><a href="github.html"><i class="fa fa-check"></i><b>10</b> Github</a>
<ul>
<li class="chapter" data-level="10.1" data-path="github.html"><a href="github.html#basics"><i class="fa fa-check"></i><b>10.1</b> Basics</a></li>
<li class="chapter" data-level="10.2" data-path="github.html"><a href="github.html#github-desktop"><i class="fa fa-check"></i><b>10.2</b> Github Desktop</a></li>
<li class="chapter" data-level="10.3" data-path="github.html"><a href="github.html#git-branching"><i class="fa fa-check"></i><b>10.3</b> Git Branching</a></li>
<li class="chapter" data-level="10.4" data-path="github.html"><a href="github.html#example-workflow"><i class="fa fa-check"></i><b>10.4</b> Example Workflow</a></li>
<li class="chapter" data-level="10.5" data-path="github.html"><a href="github.html#commonly-used-git-commands"><i class="fa fa-check"></i><b>10.5</b> Commonly Used Git Commands</a></li>
<li class="chapter" data-level="10.6" data-path="github.html"><a href="github.html#how-often-should-i-commit"><i class="fa fa-check"></i><b>10.6</b> How often should I commit?</a></li>
<li class="chapter" data-level="10.7" data-path="github.html"><a href="github.html#what-should-be-pushed-to-github"><i class="fa fa-check"></i><b>10.7</b> What should be pushed to Github?</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="unix.html"><a href="unix.html"><i class="fa fa-check"></i><b>11</b> Unix commands</a>
<ul>
<li class="chapter" data-level="11.1" data-path="unix.html"><a href="unix.html#basics-1"><i class="fa fa-check"></i><b>11.1</b> Basics</a></li>
<li class="chapter" data-level="11.2" data-path="unix.html"><a href="unix.html#syntax-for-both-macwindows"><i class="fa fa-check"></i><b>11.2</b> Syntax for both Mac/Windows</a></li>
<li class="chapter" data-level="11.3" data-path="unix.html"><a href="unix.html#running-bash-scripts"><i class="fa fa-check"></i><b>11.3</b> Running Bash Scripts</a></li>
<li class="chapter" data-level="11.4" data-path="unix.html"><a href="unix.html#running-rscripts-in-windows"><i class="fa fa-check"></i><b>11.4</b> Running Rscripts in Windows</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="unix.html"><a href="unix.html#common-mistakes"><i class="fa fa-check"></i><b>11.4.1</b> Common Mistakes</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="unix.html"><a href="unix.html#checking-tasks-and-killing-jobs"><i class="fa fa-check"></i><b>11.5</b> Checking tasks and killing jobs</a></li>
<li class="chapter" data-level="11.6" data-path="unix.html"><a href="unix.html#running-big-jobs"><i class="fa fa-check"></i><b>11.6</b> Running big jobs</a>
<ul>
<li class="chapter" data-level="11.6.1" data-path="unix.html"><a href="unix.html#example-code-for-runfilesavelogs"><i class="fa fa-check"></i><b>11.6.1</b> Example code for <code>runfileSaveLogs</code></a></li>
<li class="chapter" data-level="11.6.2" data-path="unix.html"><a href="unix.html#example-usage-for-runfilesavelogs"><i class="fa fa-check"></i><b>11.6.2</b> Example usage for <code>runfileSaveLogs</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="reproducible-environments.html"><a href="reproducible-environments.html"><i class="fa fa-check"></i><b>12</b> Reproducible Environments</a>
<ul>
<li class="chapter" data-level="12.1" data-path="reproducible-environments.html"><a href="reproducible-environments.html#package-version-control-with-renv"><i class="fa fa-check"></i><b>12.1</b> Package Version Control with renv</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="reproducible-environments.html"><a href="reproducible-environments.html#introduction"><i class="fa fa-check"></i><b>12.1.1</b> Introduction</a></li>
<li class="chapter" data-level="12.1.2" data-path="reproducible-environments.html"><a href="reproducible-environments.html#implementing-renv-in-projects"><i class="fa fa-check"></i><b>12.1.2</b> Implementing renv in projects</a></li>
<li class="chapter" data-level="12.1.3" data-path="reproducible-environments.html"><a href="reproducible-environments.html#using-projects-with-renv"><i class="fa fa-check"></i><b>12.1.3</b> Using projects with renv</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="code-publication.html"><a href="code-publication.html"><i class="fa fa-check"></i><b>13</b> Code Publication</a>
<ul>
<li class="chapter" data-level="13.1" data-path="code-publication.html"><a href="code-publication.html#checklist-overview"><i class="fa fa-check"></i><b>13.1</b> Checklist overview</a></li>
<li class="chapter" data-level="13.2" data-path="code-publication.html"><a href="code-publication.html#fill-out-file-headers"><i class="fa fa-check"></i><b>13.2</b> Fill out file headers</a></li>
<li class="chapter" data-level="13.3" data-path="code-publication.html"><a href="code-publication.html#clean-up-comments"><i class="fa fa-check"></i><b>13.3</b> Clean up comments</a></li>
<li class="chapter" data-level="13.4" data-path="code-publication.html"><a href="code-publication.html#document-functions"><i class="fa fa-check"></i><b>13.4</b> Document functions</a></li>
<li class="chapter" data-level="13.5" data-path="code-publication.html"><a href="code-publication.html#remove-deprecated-filepaths"><i class="fa fa-check"></i><b>13.5</b> Remove deprecated filepaths</a></li>
<li class="chapter" data-level="13.6" data-path="code-publication.html"><a href="code-publication.html#ensure-project-runs-via-bash"><i class="fa fa-check"></i><b>13.6</b> Ensure project runs via bash</a></li>
<li class="chapter" data-level="13.7" data-path="code-publication.html"><a href="code-publication.html#complete-the-readme"><i class="fa fa-check"></i><b>13.7</b> Complete the README</a></li>
<li class="chapter" data-level="13.8" data-path="code-publication.html"><a href="code-publication.html#clean-up-feature-branches"><i class="fa fa-check"></i><b>13.8</b> Clean up feature branches</a></li>
<li class="chapter" data-level="13.9" data-path="code-publication.html"><a href="code-publication.html#create-github-release"><i class="fa fa-check"></i><b>13.9</b> Create Github release</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="data-publication.html"><a href="data-publication.html"><i class="fa fa-check"></i><b>14</b> Data Publication</a>
<ul>
<li class="chapter" data-level="14.1" data-path="data-publication.html"><a href="data-publication.html#overview"><i class="fa fa-check"></i><b>14.1</b> Overview</a></li>
<li class="chapter" data-level="14.2" data-path="data-publication.html"><a href="data-publication.html#removing-phi"><i class="fa fa-check"></i><b>14.2</b> Removing PHI</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="data-publication.html"><a href="data-publication.html#personal-information"><i class="fa fa-check"></i><b>14.2.1</b> Personal information</a></li>
<li class="chapter" data-level="14.2.2" data-path="data-publication.html"><a href="data-publication.html#dates"><i class="fa fa-check"></i><b>14.2.2</b> Dates</a></li>
<li class="chapter" data-level="14.2.3" data-path="data-publication.html"><a href="data-publication.html#geographic-information"><i class="fa fa-check"></i><b>14.2.3</b> Geographic information</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="data-publication.html"><a href="data-publication.html#create-public-ids"><i class="fa fa-check"></i><b>14.3</b> Create public IDs</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="data-publication.html"><a href="data-publication.html#rationale"><i class="fa fa-check"></i><b>14.3.1</b> Rationale</a></li>
<li class="chapter" data-level="14.3.2" data-path="data-publication.html"><a href="data-publication.html#a-single-set-of-public-ids-for-each-study"><i class="fa fa-check"></i><b>14.3.2</b> A single set of public IDs for each study</a></li>
<li class="chapter" data-level="14.3.3" data-path="data-publication.html"><a href="data-publication.html#example-scripts"><i class="fa fa-check"></i><b>14.3.3</b> Example scripts</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="data-publication.html"><a href="data-publication.html#create-a-data-repository"><i class="fa fa-check"></i><b>14.4</b> Create a data repository</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="data-publication.html"><a href="data-publication.html#steps-for-creating-an-open-science-framework-osf-repository"><i class="fa fa-check"></i><b>14.4.1</b> Steps for creating an Open Science Framework (OSF) repository:</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="data-publication.html"><a href="data-publication.html#edit-and-test-analysis-scripts"><i class="fa fa-check"></i><b>14.5</b> Edit and test analysis scripts</a></li>
<li class="chapter" data-level="14.6" data-path="data-publication.html"><a href="data-publication.html#create-a-public-github-page-for-public-scripts"><i class="fa fa-check"></i><b>14.6</b> Create a public GitHub page for public scripts</a></li>
<li class="chapter" data-level="14.7" data-path="data-publication.html"><a href="data-publication.html#go-live"><i class="fa fa-check"></i><b>14.7</b> Go live</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="slurm.html"><a href="slurm.html"><i class="fa fa-check"></i><b>15</b> Slurm and cluster computing</a>
<ul>
<li class="chapter" data-level="15.1" data-path="slurm.html"><a href="slurm.html#getting-started"><i class="fa fa-check"></i><b>15.1</b> Getting started</a>
<ul>
<li class="chapter" data-level="15.1.1" data-path="slurm.html"><a href="slurm.html#one-time-system-set-up"><i class="fa fa-check"></i><b>15.1.1</b> One-Time System Set-Up</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="slurm.html"><a href="slurm.html#moving-files-to-sherlock"><i class="fa fa-check"></i><b>15.2</b> Moving files to Sherlock</a></li>
<li class="chapter" data-level="15.3" data-path="slurm.html"><a href="slurm.html#installing-packages-on-sherlock"><i class="fa fa-check"></i><b>15.3</b> Installing packages on Sherlock</a></li>
<li class="chapter" data-level="15.4" data-path="slurm.html"><a href="slurm.html#testing-your-code"><i class="fa fa-check"></i><b>15.4</b> Testing your code</a>
<ul>
<li class="chapter" data-level="15.4.1" data-path="slurm.html"><a href="slurm.html#the-command-line"><i class="fa fa-check"></i><b>15.4.1</b> The command line</a></li>
<li class="chapter" data-level="15.4.2" data-path="slurm.html"><a href="slurm.html#the-sherlock-ondemand-dashboard"><i class="fa fa-check"></i><b>15.4.2</b> The Sherlock OnDemand Dashboard</a></li>
<li class="chapter" data-level="15.4.3" data-path="slurm.html"><a href="slurm.html#filepaths-configuration-on-sherlock"><i class="fa fa-check"></i><b>15.4.3</b> Filepaths &amp; configuration on Sherlock</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="slurm.html"><a href="slurm.html#storage-group-storage-access"><i class="fa fa-check"></i><b>15.5</b> Storage &amp; group storage access</a>
<ul>
<li class="chapter" data-level="15.5.1" data-path="slurm.html"><a href="slurm.html#individual-storage"><i class="fa fa-check"></i><b>15.5.1</b> Individual storage</a></li>
<li class="chapter" data-level="15.5.2" data-path="slurm.html"><a href="slurm.html#group-storage"><i class="fa fa-check"></i><b>15.5.2</b> Group storage</a></li>
<li class="chapter" data-level="15.5.3" data-path="slurm.html"><a href="slurm.html#folder-permissions"><i class="fa fa-check"></i><b>15.5.3</b> Folder permissions</a></li>
</ul></li>
<li class="chapter" data-level="15.6" data-path="slurm.html"><a href="slurm.html#running-big-jobs-1"><i class="fa fa-check"></i><b>15.6</b> Running big jobs</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="checklists.html"><a href="checklists.html"><i class="fa fa-check"></i><b>16</b> Checklists</a>
<ul>
<li class="chapter" data-level="16.1" data-path="checklists.html"><a href="checklists.html#pre-analysis-plan-checklist"><i class="fa fa-check"></i><b>16.1</b> Pre-analysis plan checklist</a></li>
<li class="chapter" data-level="16.2" data-path="checklists.html"><a href="checklists.html#code-checklist"><i class="fa fa-check"></i><b>16.2</b> Code checklist</a></li>
<li class="chapter" data-level="16.3" data-path="checklists.html"><a href="checklists.html#manuscript-checklist"><i class="fa fa-check"></i><b>16.3</b> Manuscript checklist</a></li>
<li class="chapter" data-level="16.4" data-path="checklists.html"><a href="checklists.html#figure-checklist"><i class="fa fa-check"></i><b>16.4</b> Figure checklist</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="resources.html"><a href="resources.html"><i class="fa fa-check"></i><b>17</b> Resources</a>
<ul>
<li class="chapter" data-level="17.1" data-path="resources.html"><a href="resources.html#resources-for-r"><i class="fa fa-check"></i><b>17.1</b> Resources for R</a></li>
<li class="chapter" data-level="17.2" data-path="resources.html"><a href="resources.html#resources-for-git-github"><i class="fa fa-check"></i><b>17.2</b> Resources for Git &amp; Github</a></li>
<li class="chapter" data-level="17.3" data-path="resources.html"><a href="resources.html#scientific-figures"><i class="fa fa-check"></i><b>17.3</b> Scientific figures</a></li>
<li class="chapter" data-level="17.4" data-path="resources.html"><a href="resources.html#writing"><i class="fa fa-check"></i><b>17.4</b> Writing</a></li>
<li class="chapter" data-level="17.5" data-path="resources.html"><a href="resources.html#presentations"><i class="fa fa-check"></i><b>17.5</b> Presentations</a></li>
<li class="chapter" data-level="17.6" data-path="resources.html"><a href="resources.html#professional-advice"><i class="fa fa-check"></i><b>17.6</b> Professional advice</a></li>
<li class="chapter" data-level="17.7" data-path="resources.html"><a href="resources.html#funding"><i class="fa fa-check"></i><b>17.7</b> Funding</a></li>
<li class="chapter" data-level="17.8" data-path="resources.html"><a href="resources.html#ethics-and-global-health-research"><i class="fa fa-check"></i><b>17.8</b> Ethics and global health research</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/water-health-opportunity-lab/who-lab-manual" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">WHO Lab Manual</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-publication" class="section level1 hasAnchor" number="14">
<h1><span class="header-section-number">Chapter 14</span> Data Publication<a href="data-publication.html#data-publication" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Adapted from Fanice Nyatigo and Ben Arnold’s chapter in the <a href="https://urlisolation.com/browser?clickId=524DE241-3F8F-4C98-B619-3C278374BF64&amp;traceToken=1728923499%3Bucsfmed_hosted%3Bhttps%3A%2F%2Fproctor-ucsf.github.io%2Fd&amp;url=https%3A%2F%2Fproctor-ucsf.github.io%2Fdcc-handbook%2Fpublicdata.html">Proctor-UCSF Lab Manual</a></p>
<div id="overview" class="section level2 hasAnchor" number="14.1">
<h2><span class="header-section-number">14.1</span> Overview<a href="data-publication.html#overview" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<hr />
<blockquote>
<p><em><strong>Warning! </strong> <strong>NEVER</strong> push a dataset into the public domain (e.g., GitHub, OSF) without first checking with Jade to ensure that it is appropriately de-identified and we have approval from the sponsor and/or human subjects review board to do so. For example, we will need to re-code participant IDs (even if they contain no identifying information) before making data public to completely break the link between IDs and identifiable information stored on our servers. </em></p>
</blockquote>
<hr />
<p>If you are releasing data into the public domain, then consider making available <em>at minimum</em> a <code>.csv</code> file and a codebook of the same name (note: you should have a codebook for internal data as well). We often also make available <code>.rds</code> files as well. For example, your <code>mystudy/data/public</code> directory could include three files for a single dataset, two with the actual data in <code>.rds</code> and <code>.csv</code> formats, and a third that describes their contents:</p>
<pre><code>analysis_data_public.csv
analysis_data_public.rds
analysis_data_public_codebook.txt</code></pre>
<p>In general, datasets are usually too big to save on GitHub, but occasionally they are small. Here is an example of where we actually pushed the data directly to GitHub: <a href="https://github.com/ben-arnold/enterics-seroepi/tree/master/data" class="uri">https://github.com/ben-arnold/enterics-seroepi/tree/master/data</a> .</p>
<p>If the data are bigger, then maintaining them under version control in your git repository can be unweildy. Instead, we recommend using another stable repository that has version control, such as the Open Science Framework (<a href="https://osf.io">osf.io</a>). For example, all of the data from the WASH Benefits trials (led by investigators at Berkeley, icddr,b, IPA-Kenya and others) are all stored through data components nested within in OSF projects: <a href="https://osf.io/tprw2/" class="uri">https://osf.io/tprw2/</a>. Another good option is Dryad (<a href="https://datadryad.org/">datadryad.org</a>) or the (Stanford Digital Repository)[<a href="https://sdr.stanford.edu/" class="uri">https://sdr.stanford.edu/</a>].</p>
<p>We recommend cross-linking public files in GitHub (scripts/notebooks only) and OSF/Dryad/Stanford Digital Repository.</p>
<p>Below are the main steps to making data public, after finalizing the analysis datasets and scripts:<br />
1. Remove Protected Health Information (PHI)<br />
2. Create public IDs or join already created public IDs to the data<br />
3. Create an OSF repository and/or Dryad/Stanford Digital Repository<br />
4. Edit analysis scripts to run using the public datasets and test (optional)<br />
5. Create a public github page for analysis scripts and link to OSF and/or Dryad/Zenodo<br />
6. Go live</p>
</div>
<div id="removing-phi" class="section level2 hasAnchor" number="14.2">
<h2><span class="header-section-number">14.2</span> Removing PHI<a href="data-publication.html#removing-phi" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Once the data is finalized for analysis, the first step is to strip it of Protected Health Information (PHI), or any other data that could be used to link back to specific participants, such as names, birth dates, or GPS coordinates at the village/neighborhood level or below. PHI includes, but is not limited to:</p>
<div id="personal-information" class="section level3 hasAnchor" number="14.2.1">
<h3><span class="header-section-number">14.2.1</span> Personal information<a href="data-publication.html#personal-information" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>These are identifiers that directly point to specific individuals, such as:<br />
- Names, addresses, photographs, date of birth<br />
- A combination of age, sex, and geographic location (below population 20,000) is considered identifiable</p>
</div>
<div id="dates" class="section level3 hasAnchor" number="14.2.2">
<h3><span class="header-section-number">14.2.2</span> Dates<a href="data-publication.html#dates" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Any specific dates (e.g., study visit dates, birth dates, treatment dates) are usually problematic.<br />
- If a dataset requires high resolution temporal information, coarsen visit or measurement dates to be two variables: year and week of the year (1-52).<br />
- If a dataset requires age, provide that information without a birth date (typically month resolution is sufficient)</p>
<hr />
<blockquote>
<p><em><strong>Caution!</strong> If making changes to the format of dates or ages, make sure your analysis code runs on these modified versions of the data (step 3)! </em></p>
</blockquote>
<hr />
</div>
<div id="geographic-information" class="section level3 hasAnchor" number="14.2.3">
<h3><span class="header-section-number">14.2.3</span> Geographic information<a href="data-publication.html#geographic-information" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Do not include GPS coordinates (longitude, latitude) except in special circumstances where they have been obfuscated/shifted. Reach out to Jade before doing this because it can be complicated.</p>
<p>Do not include place names or codes (e.g., US Zip Codes) if the place contains &lt;20,000 people. For villages or neighborhoods, code them with uninformative IDs. For sub-districts or districts, names are fine.</p>
<p>If an analysis requires GPS locations (e.g., to make a map), then typically we include a disclaimer in the article’s data availability statement that explains we cannot make GPS locations public to protect participant confidentiality. As a middle ground, we typically make our <em>code</em> public that runs on the geo-located data for transparency, even if independent researchers can’t actually run that code (although please be careful to ensure the code itself does not in any way include geographic identifiers).</p>
<p>For more examples of what constitutes PHI, please refer to this link: <a href="https://cphs.berkeley.edu/hipaa/hipaa18.html" class="uri">https://cphs.berkeley.edu/hipaa/hipaa18.html</a></p>
</div>
</div>
<div id="create-public-ids" class="section level2 hasAnchor" number="14.3">
<h2><span class="header-section-number">14.3</span> Create public IDs<a href="data-publication.html#create-public-ids" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="rationale" class="section level3 hasAnchor" number="14.3.1">
<h3><span class="header-section-number">14.3.1</span> Rationale<a href="data-publication.html#rationale" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The Stanford IRB requires that public datasets not include the original study IDs to identify participants or other units in the study (such as village IDs). The reason is that those IDs are linked in our private datasets to PHI. By creating a new set of public IDs, the public dataset is one step further removed from the potential to link to PHI.</p>
</div>
<div id="a-single-set-of-public-ids-for-each-study" class="section level3 hasAnchor" number="14.3.2">
<h3><span class="header-section-number">14.3.2</span> A single set of public IDs for each study<a href="data-publication.html#a-single-set-of-public-ids-for-each-study" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>For each study, it is ideal to create a single set of public IDs whenever possible. We could create a new set of public IDs for every public dataset, but the downside is that independent researchers could no longer link data that might be related. By creating a single set of public IDs associated with each internal study ID, public files retain the link.</p>
<p>Maintaining a single set of public IDs requires a shared “bridge” dataset, that includes a row for each study ID and has the associated public ID. For studies with multiple levels of ID, we would typically have separate bridge datasets for each type of ID (e.g,. cluster ID, participant ID, etc.)</p>
<p>Create a public ID that can be used to uniquely identify participants and that can internally be linked to the original study IDs. We recommend creating a subdirectory in the study’s shared data directory to store the public IDs. The shared location enables multiple projects to use the same IDs. Create the IDs using a script that reads in the study IDs, creates a unique (uninformative) public ID for the study IDs, and then saves the bridge dataset. The script should be saved in the same directory as the public ID files.</p>
<hr />
<blockquote>
<p><em><strong>Caution!</strong> Note that small differences may arise if the new public IDs do not necessarily order participants in the same way as the internal IDs. The small differences are all in estimates that rely on resampling, such as Bootstrap CIs, permutation P-values, and TMLE, as the resampling process may lead tp slightly different re-samples. The key here, to ensure the results are consistent irrespective of the dataset used, is simply to not assign public IDs randomly. Use <code>rank()</code> on the internal ID instead of <code>row_number()</code> to ensure that the order is always the same. </em></p>
</blockquote>
<hr />
</div>
<div id="example-scripts" class="section level3 hasAnchor" number="14.3.3">
<h3><span class="header-section-number">14.3.3</span> Example scripts<a href="data-publication.html#example-scripts" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We have created a self-contained and reproducible example that you can run and replicate when making data public for your projects. It contains the following files and folders:</p>
<ol style="list-style-type: decimal">
<li><code>data/final/</code>- folder containing the projects final data in both csv and rds formats<br />
</li>
<li><code>code/DEMO_generate_public_IDs.R</code>- creates randomly generated public IDs that can be matched to the trial’s assigned patient IDs.<br />
</li>
<li><code>data/make_public/DEMO_internal_to_publicID.csv</code>- the output from step #2, a bridge dataset with two variables- the new public ID and the patient’s assigned ID.<br />
</li>
<li><code>code/DEMO_create_public_datasets.R</code>- joins the public IDs to the trial’s full dataset, and strips it of the assigned patient ID.</li>
<li><code>data/public/</code>- folder containing the output from step #3- de-identified public dataset, in csv and rds formats, with uniquely identifying public IDs that cannot be easily linked back to the patient’s ID.</li>
</ol>
<p>The example workflow is accessible via GitHub: <a href="https://github.com/proctor-ucsf/dcc-handbook/tree/master/templates/making-data-public" class="uri">https://github.com/proctor-ucsf/dcc-handbook/tree/master/templates/making-data-public</a></p>
</div>
</div>
<div id="create-a-data-repository" class="section level2 hasAnchor" number="14.4">
<h2><span class="header-section-number">14.4</span> Create a data repository<a href="data-publication.html#create-a-data-repository" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>First, ensure that you create a codebook and metadata file for each public dataset <a href="https://proctor-ucsf.github.io/dcc-handbook/datawrangling.html#documenting-datasets">See the DCC guide on Documenting datasets</a>. Use the same name as the datasets, but with “-codebook.txt” / “-codebook.html” / “-codebook.csv” at the end (depending on the file format for the codebook). One nice option is the R codebook package, which also generates JSON output that is machine-readable.</p>
<div id="steps-for-creating-an-open-science-framework-osf-repository" class="section level3 hasAnchor" number="14.4.1">
<h3><span class="header-section-number">14.4.1</span> Steps for creating an Open Science Framework (OSF) repository:<a href="data-publication.html#steps-for-creating-an-open-science-framework-osf-repository" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li>Create a new OSF project per these instructions: <a href="https://help.osf.io/article/252-create-a-project" class="uri">https://help.osf.io/article/252-create-a-project</a></li>
<li>Create a data component and upload the datasets in .csv and .rds format along with the codebooks. The primary format for public dissemination is .csv but we make the .rds files available too as auxiliary files for convenience.</li>
<li>Create a notebook component and upload the final .html files (which will not be on github… but see optional item below)</li>
<li>On the OSF landing Wiki, provide some context. Here is a recent example: <a href="https://osf.io/954bt/" class="uri">https://osf.io/954bt/</a></li>
<li>Create a Digital Object Identifier (DOI) for the repository. A DOI is a unique identifier that provides a persistent link to content, such as a dataset in this case. <a href="https://researchdata.princeton.edu/research-lifecycle-guide/whats-doi-and-what-should-i-know-about-citing-datasets">Learn more about DOIs</a></li>
<li>Optional: Complete the software checklist and system requirement guide for the analysis to guide others. Include it on the GitHub README for the project: <a href="https://github.com/proctor-ucsf/mordor-antibody" class="uri">https://github.com/proctor-ucsf/mordor-antibody</a></li>
</ol>
</div>
</div>
<div id="edit-and-test-analysis-scripts" class="section level2 hasAnchor" number="14.5">
<h2><span class="header-section-number">14.5</span> Edit and test analysis scripts<a href="data-publication.html#edit-and-test-analysis-scripts" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Make minor changes to the analysis scripts so that they run on public data. If using version control in GitHub, the most straight-forward way is to create a branch from the main git branch that reads in the public files, and then renames the new public ID variable, e.g., “id_public” to the internally recognized ID variable name, e.g. “recordID”, when reading in the public data. Re-run all the analysis scripts to ensure that they still work with the public version of the dataset.</p>
</div>
<div id="create-a-public-github-page-for-public-scripts" class="section level2 hasAnchor" number="14.6">
<h2><span class="header-section-number">14.6</span> Create a public GitHub page for public scripts<a href="data-publication.html#create-a-public-github-page-for-public-scripts" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>At minimum, we should include all of the scripts required to run the analyses. <strong>IMPORTANT</strong>: ensure you have taken a snapshot and saved your computing environment using the <code>renv</code> package (<a href="#renv"><code>renv</code></a>).</p>
<p>See examples:<br />
- ACTION - <a href="https://github.com/proctor-ucsf/ACTION-public" class="uri">https://github.com/proctor-ucsf/ACTION-public</a><br />
- NAITRE - <a href="https://github.com/proctor-ucsf/NAITRE-primary" class="uri">https://github.com/proctor-ucsf/NAITRE-primary</a></p>
<hr />
<blockquote>
<p><em><strong>Caution!</strong> Read through the scripts carefully to ensure there is no PHI in the code itself </em></p>
</blockquote>
<hr />
<p>Once a public GitHub page exists, you can create a new component on an OSF project (step 3, above) and link it to the public version of the GitHub repo.</p>
</div>
<div id="go-live" class="section level2 hasAnchor" number="14.7">
<h2><span class="header-section-number">14.7</span> Go live<a href="data-publication.html#go-live" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>On GitHub, it is useful to create an official “release” version to freeze the repository, where you can have “associated files” with each version. Include the .html notebook output as additional files — since they aren’t tracked in GitHub, it does provide a way of freezing / saving the HTML output for us and others. OSF examples of a studies from UCSF’s Proctor Foundation:<br />
- ACTION - <a href="https://osf.io/ca3pe/" class="uri">https://osf.io/ca3pe/</a><br />
- NAITRE - <a href="https://osf.io/ujeyb/" class="uri">https://osf.io/ujeyb/</a><br />
- MORDOR Niger antibody study - <a href="https://osf.io/dgsq3/" class="uri">https://osf.io/dgsq3/</a></p>
<p>Further reading on end-to-end data management: <a href="https://plos.org/resource/how-to-store-and-manage-your-data/#data-management-plan">How to Store and Manage Your Data - PLOS</a></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="code-publication.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="slurm.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": "https://github.com/water-health-opportunity-lab/who-lab-manual/edit/master/13-data-publication.Rmd",
    "text": "Edit"
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": ["who-lab-manual.pdf", "who-lab-manual.epub"],
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection"
  }
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
